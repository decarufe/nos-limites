---
import PageLayout from '../layouts/PageLayout.astro';
import Hero from '../components/Hero.astro';
import FeatureCard from '../components/FeatureCard.astro';
import StepCard from '../components/StepCard.astro';
import CTABanner from '../components/CTABanner.astro';
import { useTranslations } from '../i18n/utils';

const t = useTranslations('fr');
const APP_URL = 'https://app.nos-limites.com/';
---

<PageLayout
  title="Nos limites â€” Le consentement mutuel dans tes relations"
  description={t('hero.subtitle')}
>
  <Hero
    title={t('hero.title')}
    subtitle={t('hero.subtitle')}
    ctaText={t('hero.cta')}
    ctaHref={APP_URL}
    secondaryCta={t('hero.cta.secondary')}
    secondaryHref="/fonctionnalites"
  />

  <!-- Consent section -->
  <section class="section section-consent">
    <div class="container">
      <h2 class="section-title">{t('consent.title')}</h2>
      <p class="section-subtitle">{t('consent.subtitle')}</p>
      <div class="consent-grid">
        <div class="consent-block">
          <div class="consent-icon">ğŸ’¬</div>
          <h3>{t('consent.block1.title')}</h3>
          <p>{t('consent.block1.text')}</p>
        </div>
        <div class="consent-block">
          <div class="consent-icon">ğŸ¤</div>
          <h3>{t('consent.block2.title')}</h3>
          <p>{t('consent.block2.text')}</p>
        </div>
        <div class="consent-block">
          <div class="consent-icon">ğŸ’¡</div>
          <h3>{t('consent.block3.title')}</h3>
          <p>{t('consent.block3.text')}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Features highlights -->
  <section class="section">
    <div class="container">
      <h2 class="section-title">{t('highlights.title')}</h2>
      <p class="section-subtitle">{t('highlights.subtitle')}</p>
      <div class="features-grid">
        <FeatureCard
          icon="ğŸ”’"
          title={t('highlight.match.title')}
          description={t('highlight.match.desc')}
        />
        <FeatureCard
          icon="ğŸ“±"
          title={t('highlight.qr.title')}
          description={t('highlight.qr.desc')}
        />
        <FeatureCard
          icon="ğŸ¯"
          title={t('highlight.categories.title')}
          description={t('highlight.categories.desc')}
        />
        <FeatureCard
          icon="ğŸ›¡ï¸"
          title={t('highlight.privacy.title')}
          description={t('highlight.privacy.desc')}
        />
      </div>
    </div>
  </section>

  <!-- How it works summary -->
  <section class="section section-alt">
    <div class="container">
      <h2 class="section-title">{t('steps.title')}</h2>
      <p class="section-subtitle">{t('steps.subtitle')}</p>
      <div class="steps-grid">
        <StepCard
          number={1}
          icon="ğŸ¤"
          title={t('step.1.title')}
          description={t('step.1.desc')}
        />
        <StepCard
          number={2}
          icon="âœ…"
          title={t('step.2.title')}
          description={t('step.2.desc')}
        />
        <StepCard
          number={3}
          icon="ğŸ’¡"
          title={t('step.3.title')}
          description={t('step.3.desc')}
        />
      </div>
    </div>
  </section>

  <!-- Trust / safety section -->
  <section class="section">
    <div class="container trust-section">
      <div class="trust-content">
        <h2>Le consentement mutuel au cÅ“ur de chaque interaction</h2>
        <p>
          Nos limites a Ã©tÃ© conÃ§u avec un principe fondamental : <strong>le consentement doit Ãªtre libre, Ã©clairÃ© et rÃ©ciproque</strong>.
          Le systÃ¨me de match t'encourage Ã  Ãªtre honnÃªte dans tes choix, car seules les limites mutuelles sont rÃ©vÃ©lÃ©es â€” ta vulnÃ©rabilitÃ© est toujours protÃ©gÃ©e.
        </p>
        <p>
          Dans toute relation â€” professionnelle, amicale ou intime â€” le respect des limites de l'autre est essentiel.
          Nos limites t'offre un espace sÃ»r pour exprimer ce que tu acceptes, sans pression ni jugement.
          C'est un premier pas vers une culture du consentement plus ouverte et plus saine.
        </p>
        <div class="trust-badges">
          <div class="badge">
            <span class="badge-icon">ğŸ”</span>
            <span class="badge-text">DonnÃ©es chiffrÃ©es</span>
          </div>
          <div class="badge">
            <span class="badge-icon">ğŸ‡ªğŸ‡º</span>
            <span class="badge-text">Conforme RGPD</span>
          </div>
          <div class="badge">
            <span class="badge-icon">ğŸ†“</span>
            <span class="badge-text">100% gratuit</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <CTABanner
    title={t('cta.title')}
    subtitle={t('cta.subtitle')}
    buttonText={t('cta.button')}
    buttonHref={APP_URL}
  />
</PageLayout>

<style>
  .section-consent {
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.06) 0%, rgba(236, 72, 153, 0.04) 100%);
  }

  .consent-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--spacing-xl);
    margin-top: var(--spacing-xl);
  }

  @media (min-width: 768px) {
    .consent-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .consent-block {
    text-align: center;
    padding: var(--spacing-xl);
    background: var(--color-surface);
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-border);
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .consent-block:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-md);
  }

  .consent-icon {
    font-size: 2.5rem;
    margin-bottom: var(--spacing-md);
  }

  .consent-block h3 {
    font-size: var(--font-size-lg);
    margin-bottom: var(--spacing-sm);
    color: var(--color-primary);
  }

  .consent-block p {
    font-size: var(--font-size-base);
    line-height: 1.7;
    color: var(--color-text-light);
  }

  .features-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--spacing-lg);
  }

  @media (min-width: 768px) {
    .features-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .steps-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--spacing-xl);
  }

  @media (min-width: 768px) {
    .steps-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .section-alt {
    background: linear-gradient(180deg, rgba(124, 58, 237, 0.03) 0%, rgba(236, 72, 153, 0.03) 100%);
  }

  .trust-section {
    max-width: 720px;
    text-align: center;
  }

  .trust-content h2 {
    margin-bottom: var(--spacing-lg);
  }

  .trust-content p {
    font-size: var(--font-size-lg);
    margin-bottom: var(--spacing-md);
    line-height: 1.7;
  }

  .trust-content strong {
    color: var(--color-primary);
  }

  .trust-badges {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--spacing-lg);
    margin-top: var(--spacing-xl);
  }

  .badge {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-surface);
    border-radius: var(--radius-full);
    border: 1px solid var(--color-border);
    font-weight: 600;
    font-size: var(--font-size-sm);
  }

  .badge-icon {
    font-size: 1.25rem;
  }
</style>
